<!DOCTYPE html>
<html lang="en">
<head>
	<title>Dartmouth Runners - Schedule</title>
	<meta charset="UTF-8"/>
	<meta name="description" content="Dartmouth Runners"/>
	<meta name="keywords" content=""/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

	<!-- Favicons -->
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<link rel="apple-touch-icon" sizes="57x57" href="favicons/apple-icon-57x57.png"/>
	<link rel="apple-touch-icon" sizes="60x60" href="favicons/apple-icon-60x60.png"/>
	<link rel="apple-touch-icon" sizes="72x72" href="favicons/apple-icon-72x72.png"/>
	<link rel="apple-touch-icon" sizes="76x76" href="favicons/apple-icon-76x76.png"/>
	<link rel="apple-touch-icon" sizes="114x114" href="favicons/apple-icon-114x114.png"/>
	<link rel="apple-touch-icon" sizes="120x120" href="favicons/apple-icon-120x120.png"/>
	<link rel="apple-touch-icon" sizes="144x144" href="favicons/apple-icon-144x144.png"/>
	<link rel="apple-touch-icon" sizes="152x152" href="favicons/apple-icon-152x152.png"/>
	<link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-icon-180x180.png"/>
	<link rel="icon" type="image/png" sizes="96x96" href="favicons/favicon-96x96.png"/>
	<link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png"/>
	<link rel="manifest" href="favicons/manifest.json"/>
	<meta name="msapplication-TileColor" content="#ffffff"/>
	<meta name="msapplication-TileImage" content="favicons/ms-icon-144x144.png"/>
	<meta name="theme-color" content="#ffffff"/>

	<!-- Open Graph data -->
	<meta property="og:title" content="Dartmouth Runners"/>
	<meta property="og:url" content="https://dartmouthrunners.com/"/>
	<meta property="og:image" content="https://dartmouthrunners.com/img/social_meta.jpg"/>

	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Oswald:300,400,500,700|Roboto:300,400,700" rel="stylesheet"/>

	<!-- Stylesheets -->
	<link href="css/bootstrap.min.css" rel="stylesheet"/>
	<script defer src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/js/all.js" crossorigin="anonymous"></script>
	<link href="css/style.css" rel="stylesheet"/>

	<!-- JS libraries -->
	<script src="js/jquery-2.1.4.min.js"></script>
	<script src="js/bootstrap.min.js"></script>

	<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115311475-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'UA-115311475-1');
	</script>
</head>
<body>
	<!-- Nav Bar -->
	<nav class="navbar navbar-default navbar-fixed-top">
	  <div class="container" style="width: 100%">
		 <div class"navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
			  <span class="sr-only">Toggle navigation</span>
			  <span class="icon-bar"></span>
			  <span class="icon-bar"></span>
			  <span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="index.html"><img src="img/dra-05-06.svg" height="50"/></a>
		 </div>
		 <div id="navbar" class="navbar-collapse collapse">
			<ul class="white-nav nav navbar-nav navbar-right">
			  <li><a href="index.html#about">About Us</a></li>
			  <li><a href="#schedule">Schedule</a></li>
			  <li><a href="faq.html">FAQ</a></li>
			  <li><a href="#contact">Contact</a></li>
			</ul>
		 </div>
	  </div>
	</nav>

	<!-- Schedule Section -->
	<a name="faq"></a>
	<div class="faq-section spad">
		<div class="faq-overlay"></div>
		<div class="container">
		
			<div class="section-title dark">
				<h2>This week's route</h2>
			</div>
			
			
			<div class="faq-info" style="padding-top: 25px">
				<h5 id="route-date"></h5>
				<h3 id="route-name"></h3>
				<p id="route-stats"></p>
			</div>
			

			<div class="map-container">
				<div id="map"></div>
			</div>
			
			
			<div class="faq-info">
				<div class="covid-rules">
					<p>By joining Dartmouth Runners at a scheduled event/run, you agree to take full responsibility of your own safety and well-being.</p>
				</div>
			</div>
		</div>
	</div>

	<!-- Contact section -->
	<a name="contact"></a>
	<div class="contact-section spad fix">
		<div class="container">
			<div class="row contact-info">
				<div class="section-title dark left">
					<h2>Contact Us</h2>
				</div>
				<p>
					Check out our <a href="faq.html">FAQ</a> page for more info or feel free to get in touch using the social buttons below!
				</p>
				<div class="social-icons">
					<ul class="list-unstyled text-center mb-0">
						<li class="list-unstyled-item">
							<a href="mailto:dartmouthrunners@gmail.com"><i class="far fa-envelope"></i></a>
						</li>
						<li class="list-unstyled-item">
							<a href="https://www.instagram.com/dartmouthrunners/"><i class="fab fa-instagram"></i></a>
						</li>
						<li class="list-unstyled-item">
							<a href="https://www.facebook.com/pg/dartmouthrunners"><i class="fab fa-facebook-f"></i></a>
						</li>
						<li class="list-unstyled-item">
							<a href="https://www.strava.com/clubs/dartmouthrunners"><i class="fab fa-strava"></i></a>
						</li>
						<li class="list-unstyled-item">
							<a href="https://discord.gg/2PbRU6v"><i class="fab fa-discord"></i></a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>

	<footer class="footer-section">
		<h2>2022 All rights reserved. Dartmouth Runners.</h2>
	</footer>

	<script type="text/javascript">
		$.getJSON("strava/data/route_details.json", function(data) {
			// populate the date
			document.getElementById('route-date').innerHTML = data.date;

			// populate the route name
			document.getElementById('route-name').innerHTML = data.name;

			// route stats
			var dist = Math.round(10 * (data.distance/1000)) / 10;
			var elev = Math.round(data.elevation_gain);
			document.getElementById('route-stats').innerHTML = dist + 'km ' + '&nbsp;//&nbsp;&nbsp;' + elev + 'm elevation gain';

			// route description
			document.getElementById('route-description').innerHTML = data.description;

			// strava link
			document.getElementById('strava-link').innerHTML = 'Check out the route on <a href="https://www.strava.com/routes/' + data.id + '">Strava</a>';
		})
	</script>

	<!-- Google Maps -->
	<script async defer src="https://maps.googleapis.com/maps/api/js?libraries=geometry&key=AIzaSyA0mbom3mJfyXx7HjV6ktR59NAf3ITNzoA&callback=initMap">
	</script>
	<script>
		function initMap() {
			$.getJSON("strava/data/route_details.json", function(data) {

				var latlng = new google.maps.LatLng(44.673715, -63.563881);
				var options = {
					zoom: 12,
					center: latlng,
					mapTypeId: google.maps.MapTypeId.ROADMAP,
					disableDefaultUI: true,
					navigationControl: false,
					mapTypeControl: false
				}

				var map = new google.maps.Map(document.getElementById("map"), options);

				var decodedPath = google.maps.geometry.encoding.decodePath(data.polyline);
				var decodedLevels = decodeLevels("BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB");

				var polyline = new google.maps.Polyline({
					path: decodedPath,
					levels: decodedLevels,
					strokeColor: "#FF0000",
					strokeOpacity: 1.0,
					strokeWeight: 2,
					map: map
				});

				google.maps.Polyline.prototype.getBounds = function() {
					var bounds = new google.maps.LatLngBounds();
					this.getPath().forEach(function(e) {
						bounds.extend(e);
					});
					return bounds;
				}

				map.fitBounds(polyline.getBounds(), [0, 0, 0, 0]);
			});
		}

		function decodeLevels(encodedLevelsString) {
			var decodedLevels = [];

			for (var i = 0; i < encodedLevelsString.length; ++i) {
				var level = encodedLevelsString.charCodeAt(i) - 63;
				decodedLevels.push(level);
			}
			return decodedLevels;
		}
	</script>
</body>
</html>
